<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo CoolingScrollFrame - Lắp Ráp Laptop</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #000;
            color: #fff;
        }
        
        .section-start,
        .section-end {
            height: 50vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 2rem;
        }
        
        .pin-container {
            height: 100vh;
            width: 100%;
            overflow: hidden;
        }
        
        .main-content {
            height: 100%;
            width: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .text-area {
            flex-basis: 40%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        .text-keyframe {
            position: absolute;
            opacity: 0;
            visibility: hidden;
            text-align: center;
            max-width: 600px;
            padding: 0 20px;
        }
        
        .text-keyframe h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .text-keyframe p {
            font-size: 1.1rem;
            line-height: 1.6;
            opacity: 0.8;
        }
        
        .image-area {
            flex-basis: 60%;
            position: relative;
            perspective: 1000px;
            /* Thêm chiều sâu cho hiệu ứng 3D */
        }
        
        .laptop-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transform-style: preserve-3d;
        }
        /* --- Responsive cho di động --- */
        
        @media (max-width: 768px) {
            .text-area {
                flex-basis: 35%;
            }
            .image-area {
                flex-basis: 65%;
            }
            .text-keyframe h2 {
                font-size: 1.8rem;
            }
            .text-keyframe p {
                font-size: 1rem;
            }
        }
    </style>
</head>

<body>

    <div class="section-start">
        <h2>Trải Nghiệm Tản Nhiệt Thế Hệ Mới</h2>
        <p style="font-size: 1rem;">Cuộn xuống để khám phá</p>
    </div>

    <div class="pin-container">
        <div class="main-content">
            <div class="text-area">
                <div class="text-keyframe" id="text1">
                    <h2>Hệ Thống Tản Nhiệt Êm Ái</h2>
                    <p>Ở chế độ Yên tĩnh, hệ thống tản nhiệt tắt cả quạt trong các tác vụ hàng ngày để không phát sinh tiếng ồn.</p>
                </div>
                <div class="text-keyframe" id="text2">
                    <h2>Quạt Arc Flow™ Thế Hệ 2</h2>
                    <p>Các cánh quạt được thiết kế để tối đa hóa luồng không khí và giảm nhiễu loạn, tạo ra luồng gió mạnh mẽ mà vẫn êm ái.</p>
                </div>
                <div class="text-keyframe" id="text3">
                    <h2>Buồng Hơi & Ống Dẫn Nhiệt</h2>
                    <p>Buồng hơi bao phủ CPU, GPU và các linh kiện quan trọng, nhanh chóng dẫn nhiệt ra các lá tản nhiệt.</p>
                </div>
                <div class="text-keyframe" id="text4">
                    <h2>Thiết Kế Hoàn Thiện</h2>
                    <p>Tất cả các thành phần kết hợp tạo thành một cỗ máy mạnh mẽ, mát mẻ và yên tĩnh, sẵn sàng cho mọi thử thách.</p>
                </div>
            </div>
            <div class="image-area">
                <div class="laptop-layer" id="layer-bottom" style="background-image: url('https://dlcdnwebimgs.asus.com/files/media/98317769-231a-4743-9b8a-1c6b5d5b7617/v1/images/large/1x/cooling_6_2.webp');"></div>
                <div class="laptop-layer" id="layer-fans" style="background-image: url('https://dlcdnwebimgs.asus.com/files/media/01479803-010c-438e-8a53-380d322c3681/v1/images/large/1x/cooling_6_1.webp');"></div>
                <div class="laptop-layer" id="layer-board" style="background-image: url('https://dlcdnwebimgs.asus.com/files/media/674d84f4-6cd1-4011-9a7c-3832c3cc6cde/v1/images/large/1x/cooling_5_2.webp');"></div>
                <div class="laptop-layer" id="layer-keyboard" style="background-image: url('https://dlcdnwebimgs.asus.com/files/media/7b7264a6-77d0-49a3-a3d8-e7f0b5a68d0d/v1/images/large/1x/cooling_5_1.webp');"></div>
                <div class="laptop-layer" id="layer-screen" style="background-image: url('https://dlcdnwebimgs.asus.com/files/media/944e8574-e74f-4d9d-9274-12ca92212bb6/v1/images/large/1x/cooling_4.webp');"></div>
            </div>
        </div>
    </div>

    <div class="section-end">
        <p>Khám phá thêm các tính năng khác</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: ".pin-container",
                pin: true,
                start: "top top",
                end: "+=400%", // Chiều dài cuộn bằng 4 lần chiều cao màn hình cho 4 keyframe
                scrub: 1, // Làm mượt
                snap: {
                    snapTo: "labels", // Chốt vào các điểm đánh dấu
                    duration: 0.3,
                    ease: "power1.inOut"
                }
            }
        });

        // --- Thiết lập trạng thái ban đầu (laptop tách rời) ---
        gsap.set("#layer-bottom", {
            yPercent: 100,
            z: -200,
            rotationX: -45
        });
        gsap.set("#layer-fans", {
            yPercent: 80,
            z: -150,
            rotationX: -45
        });
        gsap.set("#layer-board", {
            yPercent: 40,
            z: -100,
            rotationX: -45
        });
        gsap.set("#layer-keyboard", {
            yPercent: 20,
            z: -50,
            rotationX: -45
        });
        gsap.set("#layer-screen", {
            yPercent: -30,
            z: 0,
            rotationX: -45
        });

        // --- Xây dựng Timeline hoạt ảnh ---

        // Keyframe 1: Hệ thống tản nhiệt êm ái
        tl.addLabel("keyframe1")
            .to("#text1", {
                autoAlpha: 1,
                duration: 0.5
            })
            .to("#text1", {
                autoAlpha: 0,
                duration: 0.5
            }, "+=1"); // Hiển thị trong 1 đơn vị thời gian rồi mờ đi

        // Keyframe 2: Quạt Arc Flow
        tl.addLabel("keyframe2")
            .to("#text2", {
                autoAlpha: 1,
                duration: 0.5
            })
            // Hoạt ảnh lắp ráp: Lớp đáy và quạt tiến lại gần
            .to("#layer-bottom", {
                yPercent: 60,
                z: -150,
                rotationX: -25
            }, "<")
            .to("#layer-fans", {
                yPercent: 50,
                z: -120,
                rotationX: -25
            }, "<")
            .to("#text2", {
                autoAlpha: 0,
                duration: 0.5
            }, "+=1");

        // Keyframe 3: Buồng hơi
        tl.addLabel("keyframe3")
            .to("#text3", {
                autoAlpha: 1,
                duration: 0.5
            })
            // Hoạt ảnh lắp ráp: Lớp bo mạch và bàn phím tiến lại gần
            .to("#layer-bottom", {
                yPercent: 10,
                z: -50,
                rotationX: -5
            }, "<")
            .to("#layer-fans", {
                yPercent: 8,
                z: -40,
                rotationX: -5
            }, "<")
            .to("#layer-board", {
                yPercent: 5,
                z: -30,
                rotationX: -5
            }, "<")
            .to("#layer-keyboard", {
                yPercent: 2,
                z: -20,
                rotationX: -5
            }, "<")
            .to("#text3", {
                autoAlpha: 0,
                duration: 0.5
            }, "+=1");

        // Keyframe 4: Thiết kế hoàn thiện
        tl.addLabel("keyframe4")
            .to("#text4", {
                autoAlpha: 1,
                duration: 0.5
            })
            // Hoạt ảnh lắp ráp: Hoàn thiện
            .to(".laptop-layer", {
                yPercent: 0,
                z: 0,
                rotationX: 0,
                duration: 1
            }, "<");
    </script>
</body>

</html>