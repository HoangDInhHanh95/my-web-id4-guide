<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ID4 Guide Pin Container</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <style>
        .id4-guide-pin-container {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
         :root {
            --arrow-width: 40px;
            --arrow-height: 35px;
            --arrow-bg-color: #f9fdfe;
            --progress-bar-color: #333;
            --control-icon-color: #a0a0a0;
            --color-tilet: #02518a;
            --id4-font-size-title: 2rem;
            --id4-font-size-title-left: 40px;
            --font-size-des: 16px;
            --id4-color-bg-section: #f0f1f2;
            --id4-color-bg-section-2: #f9fdfe;
            --id4-font-family: 'SVN-Effra';
            --max-width-section: 820px;
            --maxw: 1200px;
            --id4-bg-khoa-hoc: url('http://localhost/iD4Center/wp-content/uploads/2025/09/bg-khoa-hoc@4x.png');
            --id4-bg-section-STACKABLE-GUIDE: url('http://localhost/iD4Center/wp-content/uploads/2025/09/bg-ID-4-STACKABLE-GUIDE-1@4x-Copy-Copy.png');
            --id4-border-radius: 28px;
            --id4-font-width: 700;
        }
        
        .id4-guide-pin-container {
            height: 100vh;
            width: 100%;
            overflow: hidden;
            position: relative;
            background-color: var(--id4-color-bg-section-2);
            transition: height 0.4s ease-in-out;
        }
        
        .id4-guide-panel {
            position: absolute;
            top: 1vh;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 5%;
            opacity: 0;
            visibility: hidden;
            z-index: 0;
        }
        
        .id4-guide-panel-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            gap: 35px;
            width: 100%;
            max-width: var(--id4-color-bg-section);
        }
        
        .id4-guide-image-content {
            width: 100%;
        }
        
        .id4-guide-panel img {
            max-width: 100%;
            max-height: 60vh;
            height: auto;
            border-radius: 8px;
        }
        
        .id4-guide-panel h2 {
            font-family: var(--id4-font-family);
            font-size: var(--id4-font-size-title);
            text-transform: uppercase;
            margin-bottom: 15px;
            font-weight: var(--id4-font-width);
            color: var(--color-tilet);
        }
        
        .id4-guide-panel p {
            font-size: var(--font-size-des);
            line-height: 1.7;
            opacity: 0.8;
            max-width: 650px;
            margin: 0 auto;
        }
        
        @media (max-width: 1024px) {
            .id4-guide-section-before h2,
            .id4-guide-section-after h2 {
                font-size: 2.5rem;
            }
            .id4-guide-panel h2 {
                font-size: 2.2rem;
            }
            .id4-guide-panel p {
                font-size: 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .id4-guide-section-before h2,
            .id4-guide-section-after h2 {
                font-size: 2rem;
            }
            .id4-guide-panel h2 {
                font-size: 1.8rem;
            }
            .id4-guide-panel-content {
                gap: 30px;
            }
        }
        
        body {
            padding-top: 50vh;
            padding-bottom: 200vh;
        }
    </style>
</head>

<body>

    <div class="id4-guide-pin-container"></div>

    <footer>
        <h3 style="text-align: center; margin-top: 50px;">Kết thúc phần Guide</h3>
    </footer>

    <script>
        const imageUrl = 'http://localhost/iD4Center/wp-content/uploads/2025/09/Untitled-1.png';

        const imageUrl2 = 'http://localhost/iD4Center/wp-content/uploads/2025/09/Untitled-2.png';

        document.addEventListener("DOMContentLoaded", function() {

            const panelData = [{
                title: "Không Biến Dạng, Độ Chính Xác Hoàn Hảo",
                description: "ID-4 Stackable GUIDE sử dụng công nghệ in kim loại 3D (crom-coban-titanium), khắc phục nhược điểm của máng nhựa dễ gãy do va đập.",
                imageUrl: imageUrl
            }, {
                title: "Định Vị Chính Xác & Quan Sát Toàn Diện",
                description: "ID-4 GUIDE cho phép định hướng và quan sát toàn diện khi khoan, hạn chế tối đa sai sót và định vị chính xác vị trí implant.",
                imageUrl: imageUrl2
            }, {
                title: "Công Nghệ Vượt Trội",
                description: "Với công nghệ in kim loại 3D, ID-4 Stackable GUIDE đảm bảo độ bền và độ chính xác tuyệt đối, mang lại sự an toàn tối đa trong phẫu thuật.",
                imageUrl: imageUrl
            }];

            const pinContainer = document.querySelector(".id4-guide-pin-container");
            let panelsHTML = "";

            panelData.forEach(data => {
                panelsHTML += `
                    <section class="id4-guide-panel">
                        <div class="id4-guide-panel-content">
                            <div class="id4-guide-text-content">
                                <h2>${data.title}</h2>
                                <p>${data.description}</p>
                            </div>
                            <div class="id4-guide-image-content">
                                <img src="${data.imageUrl}" alt="${data.title}">
                            </div>
                        </div>
                    </section>
                `;
            });

            pinContainer.innerHTML = panelsHTML;

            gsap.registerPlugin(ScrollTrigger);

            const panels = gsap.utils.toArray(".id4-guide-panel");

            gsap.set(panels[0], {
                autoAlpha: 1,
                zIndex: panels.length
            });

            const timeline = gsap.timeline({
                scrollTrigger: {
                    trigger: ".id4-guide-pin-container",
                    pin: true,
                    scrub: 0.1,
                    snap: {
                        snapTo: "labels",
                        duration: {
                            min: 0.1,
                            max: 0.2
                        },
                        ease: "power1.inOut"
                    },
                    end: () => "+=" + (panels.length - 1) * window.innerHeight,

                }
            });

            panels.forEach((panel, i) => {
                if (i > 0) {
                    timeline.addLabel(`slide${i}`);
                    timeline.to(panels[i - 1], {
                            autoAlpha: 0,
                            zIndex: 0,
                            duration: 0.1,
                            ease: "power1.in"
                        })
                        .to(panel, {
                            autoAlpha: 1,
                            zIndex: panels.length - i,
                            duration: 0.1,
                            ease: "power1.out"
                        }, "<");
                }
            });

            timeline.addLabel(`slide${panels.length}`);
        });
    </script>
</body>

</html>